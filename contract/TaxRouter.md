# üìë TaxRouter: Smart Contract Overview

–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ **TaxRouter** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ EVM-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–µ—Ç—è—Ö —á–µ—Ä–µ–∑ **EVM_TERMINAL**.

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**TaxRouter** ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ä–æ—É—Ç–µ—Ä-–ø—Ä–æ—Å–ª–æ–π–∫–∞, –∞–≥—Ä–µ–≥–∏—Ä—É—é—â–∏–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ V2 –∏ V3 (PancakeSwap-style).

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî —Å–¥–µ–ª–∫–∏ –≤ V2/V3 –ø—É–ª–∞—Ö —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- **–ö–æ–º–∏—Å—Å–∏—è 0.1%** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ 10 BPS —Å –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏
- **Quote-—Ç–æ–∫–µ–Ω—ã** ‚Äî –∫–æ–º–∏—Å—Å–∏—è —Ç–æ–ª—å–∫–æ –≤ –ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∞–∫—Ç–∏–≤–∞—Ö (USDT, WBNB), –±–µ–∑ "—â–∏—Ç–∫–æ–∏–Ω–æ–≤"
- **Fee-on-Transfer** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–µ—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
- **Auto-Fuel** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–Ω–µ—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã

---

## ‚öôÔ∏è –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –Ø–∑—ã–∫ | Solidity |
| –í–µ—Ä—Å–∏—è | `0.8.33` |
| EVM Version | `Shanghai` |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | `Enabled` (200 runs) |
| –õ–∏—Ü–µ–Ω–∑–∏—è | `MIT` |

---

## üöÄ –î–µ–ø–ª–æ–π

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (BSC Mainnet):

```
_factory:     0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73 (V2 Factory)
_WETH:        0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c (WBNB)
_feeReceiver: <–í–ê–®_–ê–î–†–ï–°_–î–õ–Ø_–ö–û–ú–ò–°–°–ò–ô>
_v3Router:    0x1b81D678ffb9C0263b24A97847620C99d213eB14 (V3 Smart Router)
```

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. **–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ** –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ —ç–∫—Å–ø–ª–æ—Ä–µ—Ä–µ
2. **–î–æ–±–∞–≤—å—Ç–µ Quote —Ç–æ–∫–µ–Ω—ã** —á–µ—Ä–µ–∑ `setQuoteToken()`:
   ```
   USDT: 0x55d398326f99059fF775485246999027B3197955
   USDC: 0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d
   ```
   WBNB –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

3. **–í–Ω–µ—Å–∏—Ç–µ –∞–¥—Ä–µ—Å** –≤ –∫–æ–Ω—Ñ–∏–≥ —Å–µ—Ç–∏ `networks/bsc.json`:
   ```json
   "dex_router_address": "0x–í–ê–®_–ê–î–†–ï–°_–ö–û–ù–¢–†–ê–ö–¢–ê"
   ```

---

## üõ† Admin-—Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `setFeeReceiver(address)` | –°–º–µ–Ω–∞ –∞–¥—Ä–µ—Å–∞ –¥–ª—è –∫–æ–º–∏—Å—Å–∏–π |
| `setQuoteToken(address, bool)` | –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å Quote-—Ç–æ–∫–µ–Ω |
| `transferOwnership(address)` | –ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∞–≤ –≤–ª–∞–¥–µ–Ω–∏—è |
| `rescueTokens(address, uint)` | –í—ã–≤–æ–¥ –∑–∞—Å—Ç—Ä—è–≤—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤/BNB |

---

## üîç –õ–æ–≥–∏–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏

**Buy:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç Quote-—Ç–æ–∫–µ–Ω ‚Üí –≤—ã—á–∏—Ç–∞–µ—Ç 0.1% ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –ø—É–ª ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω

**Sell:** –û–±–º–µ–Ω–∏–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω –Ω–∞ Quote ‚Üí –≤—ã—á–∏—Ç–∞–µ—Ç 0.1% –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

`amountOutMin` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–ø–æ—Å–ª–µ** –≤—ã—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏ ‚Äî —ç—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç reverts.

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞

–ê–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `networks/<network>.json`:

```json
{
    "dex_router_address": "0x...",
    ...
}
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–±—Ä–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é:
```solidity
uint public constant FEE_BASIS_POINTS = 0;  // –ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏
```

**–í–∞–∂–Ω–æ:** –ù–µ –º–µ–Ω—è–π—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º

1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç (Remix/Hardhat/Foundry)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Quote-—Ç–æ–∫–µ–Ω—ã
3. –í–ø–∏—à–∏—Ç–µ –∞–¥—Ä–µ—Å –≤ `networks/*.json`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç ‚Äî –æ–Ω –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∫–æ–Ω—Ñ–∏–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## Disclaimer

–ö–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏. –û—à–∏–±–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ, –Ω–µ–≤–µ—Ä–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ —Å—Ä–µ–¥—Å—Ç–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–µ–¥ Mainnet –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ BSC Testnet. –ö–æ–Ω—Ñ–∏–≥ —Ç–µ—Å—Ç–Ω–µ—Ç–∞: `networks/bsc_testnet.json`.
